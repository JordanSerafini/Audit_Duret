@startuml Architecture_Cible_Odoo

title Architecture Cible - Finance & ComptabilitÃ© (Odoo)
subtitle âœ… ERP intÃ©grÃ© - Automatisations - Temps rÃ©el

!define APP_COLOR #B8E6B8
!define DATA_COLOR #FFE4B5
!define INTEGRATION_COLOR #E6D4FF
!define BI_COLOR #E8F4F8

skinparam component {
  BackgroundColor<<app>> APP_COLOR
  BackgroundColor<<data>> DATA_COLOR
  BackgroundColor<<integration>> INTEGRATION_COLOR
  BackgroundColor<<bi>> BI_COLOR
}

package "Utilisateurs" {
  actor "ğŸ‘· Chef\nChantier" as Chef
  actor "ğŸ‘¨â€ğŸ’¼ Resp.\nAffaires" as Resp
  actor "ğŸ‘¨â€ğŸ’¼ Commercial" as Commercial
  actor "ğŸ‘©â€ğŸ’¼ Comptable" as Comptable
  actor "ğŸ‘©â€ğŸ’¼ Direction" as Direction
}

package "Odoo ERP UnifiÃ©" <<app>> {

  package "Modules OpÃ©rationnels" {
    [ğŸ“± CRM\nCommercial] as CRM
    [ğŸ”¨ Chantiers\n& Projets] as Chantiers
    [ğŸ›’ Achats\nFournisseurs] as Achats
    [ğŸ‘¥ RH\nPaie] as RH
  }

  package "Module Finance & ComptabilitÃ©" {
    [ğŸ“’ ComptabilitÃ©\nGÃ©nÃ©rale] as ComptaGen
    [ğŸ’° ComptabilitÃ©\nAnalytique] as ComptaAna
    [ğŸ“„ Facturation\nAutomatisÃ©e] as Facturation
    [ğŸ¦ Bank Sync\nDSP2] as BankSync
    [ğŸ” 3-way\nMatching] as Matching
    [ğŸ“Š TrÃ©sorerie\nPrÃ©visionnelle] as Treso
    [ğŸ”” Relances\nAutomatiques] as Relances
    [ğŸ¤– OCR\nFactures] as OCR
  }

}

package "DonnÃ©es UnifiÃ©es" <<data>> {
  database "PostgreSQL\nBase Unique" as DB
  database "Redis\nCache" as Cache
}

package "IntÃ©grations" <<integration>> {
  [ğŸ¦ Banque\nAPI DSP2] as BanqueAPI
  [ğŸ“§ Email\nGateway] as EmailGW
  [ğŸ§¾ Chorus Pro\nAPI] as Chorus
  [ğŸ‘¨â€ğŸ’¼ Portail\nExpert-Compta] as PortailEC
}

package "BI & Analytics" <<bi>> {
  [ğŸ“Š Dashboard\nDirection] as DashDir
  [ğŸ“Š Dashboard\nComptabilitÃ©] as DashCompta
  [ğŸ“Š Dashboard\nChantiers] as DashChantiers
  [ğŸ¤– IA Scoring\nClients] as IAScoring
  [ğŸ¤– IA DÃ©tection\nAnomalies] as IAAnomalie
}

package "SystÃ¨mes Externes" {
  [ğŸ¦ Banque] as Banque
  [ğŸ‘¨â€ğŸ’¼ Expert\nComptable] as EC
}

' Relations Utilisateurs â†’ Modules
Chef --> Chantiers : "Validation\ndigitale"
Chef --> Achats : "Commandes\nmobiles"

Resp --> Chantiers : "Suivi\ntemps rÃ©el"
Resp --> DashChantiers : "RentabilitÃ©\ninstantanÃ©e"

Commercial --> CRM : "CrÃ©ation\nclient 1 fois"

Comptable --> ComptaGen : "Validation\nvs saisie"
Comptable --> BankSync : "Lettrage\n1 clic"
Comptable --> DashCompta : "Monitoring\ntemps rÃ©el"

Direction --> DashDir : "KPIs\ntemps rÃ©el"
Direction --> Treso : "PrÃ©visions\nauto"

' Relations Modules â†’ ComptabilitÃ© (IntÃ©gration native)
CRM ==> ComptaGen : "âœ… Client auto\ncrÃ©Ã©"
CRM ==> ComptaAna : "âœ… Axes\nanalytiques"

Chantiers ==> Facturation : "âœ… Facture\nauto gÃ©nÃ©rÃ©e"
Chantiers ==> ComptaAna : "âœ… Imputation\nauto chantier"

Achats ==> Matching : "âœ… Facture\nfournisseur"
Matching ==> ComptaGen : "âœ… Ã‰criture\nauto"

RH ==> ComptaGen : "âœ… Paie â†’\nÃ©critures auto"

Facturation ==> ComptaGen : "âœ… Ã‰criture\ncomptable auto"
Facturation ==> Relances : "âœ… Relances\nauto impayÃ©s"

' Relations ComptabilitÃ© â†’ DonnÃ©es
ComptaGen --> DB : "Stockage\nunique"
ComptaAna --> DB
Facturation --> DB
BankSync --> DB
Matching --> DB
Treso --> DB

ComptaGen --> Cache : "Performance"
Facturation --> Cache

' Relations IntÃ©grations
BankSync <--> BanqueAPI : "Sync\nautomatique"
BanqueAPI <--> Banque : "DSP2\nsÃ©curisÃ©"

Facturation --> EmailGW : "Envoi\nauto"
Facturation --> Chorus : "MarchÃ©s\npublics"
Relances --> EmailGW : "Emails\nauto"

ComptaGen --> PortailEC : "AccÃ¨s\nexpert-compta"
PortailEC <--> EC : "RÃ©vision\ntemps rÃ©el"

OCR --> Achats : "PrÃ©-remplissage\nfactures"

' Relations BI
DB --> DashDir : "KPIs\ntemps rÃ©el"
DB --> DashCompta : "Monitoring\ntemps rÃ©el"
DB --> DashChantiers : "RentabilitÃ©\ntemps rÃ©el"
DB --> IAScoring : "ML scoring\nclients"
DB --> IAAnomalie : "DÃ©tection\nanomalies"

' Notes explicatives
note right of CRM
  âœ… **BÃ©nÃ©fice #1**
  - Client crÃ©Ã© 1 seule fois
  - Disponible instantanÃ©ment
    en comptabilitÃ©
  - Fin double saisie
end note

note right of Chantiers
  âœ… **BÃ©nÃ©fice #2**
  - Validation travaux
    â†’ Facture auto gÃ©nÃ©rÃ©e
  - ComptabilitÃ© analytique
    temps rÃ©el par chantier
  - TraÃ§abilitÃ© complÃ¨te
end note

note right of ComptaGen
  âœ… **BÃ©nÃ©fice #3**
  - Ã‰critures comptables
    automatiques depuis
    opÃ©rations mÃ©tier
  - Export FEC certifiÃ©
  - ConformitÃ© fiscale
end note

note right of BankSync
  âœ… **BÃ©nÃ©fice #4**
  - Sync bancaire auto (DSP2)
  - Lettrage intelligent IA
  - Gain 70% temps
    (8h â†’ 2.4h/mois)
end note

note right of ComptaAna
  âœ… **BÃ©nÃ©fice #5**
  - Marge par chantier
    temps rÃ©el
  - Axes analytiques multiples
  - Fin des Excel manuels
end note

note right of Treso
  âœ… **BÃ©nÃ©fice #6**
  - PrÃ©visions automatiques
    basÃ©es sur :
    Â· Devis validÃ©s
    Â· Commandes fournisseurs
    Â· Ã‰chÃ©ancier factures
  - ScÃ©narios multiples
  - Alertes trÃ©sorerie nÃ©gative
end note

note bottom of Comptable
  **Nouveau RÃ´le Comptable**
  - 30% temps sur validation/contrÃ´le
  - 70% sur analyse et conseil
  - Satisfaction : 3/10 â†’ 9/10
  - Valorisation du mÃ©tier
end note

note bottom of Direction
  **Nouveau Pilotage Direction**
  - VisibilitÃ© temps rÃ©el (vs 1-2 mois)
  - DÃ©cisions basÃ©es donnÃ©es fraÃ®ches
  - Pilotage Ã©clairÃ©
  - Satisfaction : 2/10 â†’ 10/10
end note

note as N1
  **ARCHITECTURE CIBLE : BÃ‰NÃ‰FICES**

  âœ… **1 ERP unifiÃ©** (vs 5 silos isolÃ©s)
  âœ… **IntÃ©gration native** (vs ressaisies multiples)
  âœ… **Automatisations** (facturation, lettrage, relances)
  âœ… **Temps rÃ©el** (vs dÃ©lais 1-2 mois)
  âœ… **Gain ~30h/mois** = Ã©conomie 18kâ‚¬/an

  â±ï¸ **DÃ©lai rentabilitÃ© chantier** : Temps rÃ©el (vs 1-2 mois)
  â±ï¸ **Temps rapprochement bancaire** : 2.4h/mois (vs 8h)
  â±ï¸ **DÃ©lai facturation** : < 48h (vs 5-10 jours)

  ğŸ’° **ROI** : 118% la 1Ã¨re annÃ©e
end note

@enduml
