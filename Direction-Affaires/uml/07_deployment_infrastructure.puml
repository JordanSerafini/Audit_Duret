@startuml Deployment_Infrastructure

title Deployment Diagram - Infrastructure ACTUELLE Direction-Affaires

node "Domicile Laurent (Teletravail)" as HomeLaurent #FFE4E1 {
  node "PC Laurent" as PCLaurent #FF6B6B {
    component "VPN Client" as VPN1 #FF0000
    component "Citrix Receiver" as Citrix1 #FF0000
    component "Client Sage" as ClientSage1
  }

  note right of PCLaurent
    ğŸ”´ **TELETRAVAIL IMPOSSIBLE**
    - VPN + Citrix
    - 30-40s par ecran
    - Timeouts frequents
    - ğŸ˜¤ Frustration: 10/10

    Laurent evite de travailler
    depuis chez lui !
  end note
}

node "Domicile RA2 (Teletravail)" as HomeRA2 #FFE4E1 {
  node "PC RA2" as PCRA2 #FF6B6B {
    component "VPN Client" as VPN2 #FF0000
    component "Citrix Receiver" as Citrix2 #FF0000
  }
}

node "Bureau Siege" as Bureau #E6F3FF {

  node "Serveur Windows 2012" as Server #FF0000 {
    component "Sage MDE/ERP" as SageMDE #FF0000
    database "Base ERP" as DBSage #FF0000
  }

  note right of Server
    âš ï¸ **CALAMITEUX**
    - Obsolete
    - 30-40s chargement ecran
    - Interface client lourd
    - Pas d'API REST
    - Pas de mobile
    - VPN + Citrix = enfer
  end note

  node "PC Laurent (Bureau)" as PCLaurentBureau {
    component "Client Sage" as ClientSage2
    component "Word" as Word1
    component "Excel" as Excel1 #FFD700
  }

  node "PC RA2 (Bureau)" as PCRA2Bureau {
    component "Client Sage" as ClientSage3
    component "Word" as Word2
    component "Excel" as Excel2 #FFD700
  }

  node "PC Marie (Direction)" as PCMarie {
    component "Client Sage" as ClientSage4
    component "Excel" as ExcelMarie #FFD700
    component "Outlook" as OutlookMarie
  }

  note right of PCMarie
    ğŸ”´ Marie ne peut pas:
    - Consulter avancement TR
    - Obtenir KPIs
    - Suivre budgets

    â° Demande a Laurent: 3h
  end note

  node "PC Thomas (BE)" as PCThomas {
    component "Word" as WordThomas
    component "Outlook" as OutlookThomas
  }
}

cloud "Stockage OneDrive" as Cloud #E0F7FA {
  storage "Dossiers Partages\n200+ fichiers Word" as Dossiers #FF6B6B
  storage "Excel\nTemplates Laurent" as ExcelLaurent #FFD700
  storage "Excel\nTemplates RA2" as ExcelRA2 #FFD700
}

note bottom of Cloud
  ğŸ”´ **CHAOS FICHIERS**
  - 200+ fichiers Word
  - Nommage incoherent:
    "PPSPS_final_v2_OK_2023.docx"
    "PPSPS_Client_A_VRAI_FINAL.docx"
  - Pas de versioning
  - â° 30 min de recherche
  - Chaque RA a ses propres Excel
end note

cloud "Internet" as Internet {
}

node "Client A" as Client1 #E0E0E0 {
  artifact "ğŸ“§ Email" as EmailClient1
}

node "Client B" as Client2 #E0E0E0 {
  artifact "ğŸ“§ Email" as EmailClient2
}

' Connexions Teletravail
VPN1 .> Internet : tunnel VPN
VPN2 .> Internet : tunnel VPN
Internet .> Server : VPN
Citrix1 --> ClientSage1 : 30-40s/ecran
Citrix2 .> Server : 30-40s/ecran

' Connexions Bureau
ClientSage2 --> SageMDE : Client lourd
ClientSage3 --> SageMDE : Client lourd
ClientSage4 --> SageMDE : Client lourd\n(rarement)

Word1 --> Dossiers : OneDrive
Word2 --> Dossiers : OneDrive
WordThomas --> Dossiers : OneDrive

Excel1 --> ExcelLaurent : OneDrive
Excel2 --> ExcelRA2 : OneDrive
ExcelMarie --> Cloud : OneDrive

' Connexions Clients
OutlookMarie ..> EmailClient1 : PDF devis
OutlookMarie ..> EmailClient2 : PDF PPSPS
EmailClient1 ..> OutlookMarie : demande devis
EmailClient2 ..> OutlookMarie : demande devis

OutlookThomas <.> Word1 : echange\nPPSPS validation

note bottom
  **PROBLEMES INFRASTRUCTURE**

  ğŸ”´ **Obsolescence**
  - Windows Server 2012
  - Sage MDE client lourd
  - Architecture annees 2000

  ğŸ”´ **Performance catastrophique**
  - 30-40s par ecran
  - VPN + Citrix ultra-lent
  - Timeouts frequents
  - ğŸ˜¤ Teletravail impossible

  ğŸ”´ **Pas de mobilite**
  - Zero acces mobile
  - Pas d'app responsive
  - Impossible depuis chantier

  ğŸ”´ **Silos de donnees**
  - Sage + Word + Excel perso
  - 200+ fichiers templates
  - Dossiers partages chaos
  - Aucune integration

  ğŸ”´ **Pas de visibilite direction**
  - Pas de dashboards
  - Pas de KPIs TR
  - â° 3h pour un chiffre

  ğŸ”´ **Impact**
  - Devis: 2h05 (vs 30 min possible)
  - PPSPS: 3h00 (vs 27 min possible)
  - Recherche template: 30 min
  - Laurent evite teletravail
end note

@enduml
