@startuml Architecture_Cible_Globale

' === METADATA ===
' Service: Synthese Transverse
' Date Creation: 2025-11-20
' Auteur: Agent PlantUML Duret
' Version: 1.1
' Type Diagramme: Architecture Cible
' Description: Architecture IT cible Option 1 (Full Odoo)
' === FIN METADATA ===

!include ../../../Services/_shared/uml/styles/duret_colors.puml
!include ../../../Services/_shared/uml/styles/duret_layout.puml
!include ../../../Services/_shared/uml/styles/duret_legends.puml

title Architecture IT Cible - Option 1 : Full Odoo (Recommandée)

!define RECTANGLE class

' Couche Utilisateurs
package "UTILISATEURS FINAUX" COLOR_ACTOR_CLIENT {
  actor "Direction\n(Dashboards)" as Dir
  actor "Managers\n(Web/Mobile)" as Mgr
  actor "Terrain\n(Odoo Mobile)" as Terrain
  actor "Clients\n(Portail Odoo)" as Clients
}

' Couche Applications
package "CŒUR DU SYSTÈME : ODOO ENTERPRISE" COLOR_SYSTEME_ERP {
  component "Odoo CRM\n(Ventes & Devis)" as CRM COLOR_SYSTEME_CIBLE
  component "Odoo Projets\n(Suivi Affaires)" as Projet COLOR_SYSTEME_CIBLE
  component "Odoo Field Service\n(Interventions)" as FSM COLOR_SYSTEME_CIBLE
  component "Odoo Achats & Stock\n(Logistique)" as Stock COLOR_SYSTEME_CIBLE
  component "Odoo Compta\n(Facturation)" as Compta COLOR_SYSTEME_CIBLE
}

' Couche RH Spécialisée
package "RH & PAIE" COLOR_SYSTEME_SIRH {
  component "PayFit\n(Paie & DSN)" as PayFit COLOR_SYSTEME_CLOUD
  component "Odoo Employés\n(Dossier RH)" as RH COLOR_SYSTEME_CIBLE
}

' Couche Données & Intégration
package "INFRASTRUCTURE & DATA" COLOR_DATA {
  database "PostgreSQL\n(Odoo DB)" as DB COLOR_DATABASE
  component "Odoo Documents\n(GED Centralisée)" as GED COLOR_DATABASE
  component "Connecteurs APIs\n(Rexel, Sonepar)" as APIs COLOR_INTEGRATION
}

' Connexions
Dir --> CRM
Dir --> Projet
Dir --> Compta

Mgr --> CRM
Mgr --> Projet
Mgr --> RH

Terrain --> FSM
Terrain --> Stock

Clients --> CRM : Portail Client

' Flux Internes Odoo
CRM -> Projet : Gagné -> Nouveau Projet
Projet -> FSM : Tâche -> Intervention
FSM -> Stock : Consommation Matériel
Stock -> Compta : Facture Fournisseur
Projet -> Compta : Facturation Client

' Flux RH
RH -> PayFit : Variables Paie (Absences, Heures)
PayFit -> Compta : Écritures Paie (OD)

' Flux Externes
Stock <--> APIs : Prix & Dispo
APIs --> Stock : Commandes EDI

note right of CRM
  **ODOO CRM & VENTES**
  • Fin des Post-it
  • Devis en 30min (Templates)
  • Signature électronique
end note

note right of FSM
  **ODOO FIELD SERVICE**
  • App Mobile Native (Offline)
  • Rapports d'intervention
  • Signature client sur écran
end note

note right of PayFit
  **PAYFIT (BEST-OF-BREED)**
  • Expert Paie Française
  • DSN Automatisée
  • Bulletins simples
end note

LEGEND_ARCHITECTURE()

@enduml
