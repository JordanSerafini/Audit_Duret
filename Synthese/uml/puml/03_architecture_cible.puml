@startuml Architecture_Cible_Globale

title Architecture IT Cible - Option 1 : Full Odoo (Recommandée)

!define RECTANGLE class

' Couche Utilisateurs
package "UTILISATEURS FINAUX" #E6F3FF {
  actor "Direction\n(Dashboards)" as Dir
  actor "Managers\n(Web/Mobile)" as Mgr
  actor "Terrain\n(Odoo Mobile)" as Terrain
  actor "Clients\n(Portail Odoo)" as Clients
}

' Couche Applications
package "CŒUR DU SYSTÈME : ODOO ENTERPRISE" #E8F5E9 {
  component "Odoo CRM\n(Ventes & Devis)" as CRM #90EE90
  component "Odoo Projets\n(Suivi Affaires)" as Projet #90EE90
  component "Odoo Field Service\n(Interventions)" as FSM #90EE90
  component "Odoo Achats & Stock\n(Logistique)" as Stock #90EE90
  component "Odoo Compta\n(Facturation)" as Compta #90EE90
}

' Couche RH Spécialisée
package "RH & PAIE" #FFF4E4 {
  component "PayFit\n(Paie & DSN)" as PayFit #FFD700
  component "Odoo Employés\n(Dossier RH)" as RH #90EE90
}

' Couche Données & Intégration
package "INFRASTRUCTURE & DATA" #E4E4FF {
  database "PostgreSQL\n(Odoo DB)" as DB #4169E1
  component "Odoo Documents\n(GED Centralisée)" as GED #6495ED
  component "Connecteurs APIs\n(Rexel, Sonepar)" as APIs #FFD700
}

' Connexions
Dir --> CRM
Dir --> Projet
Dir --> Compta

Mgr --> CRM
Mgr --> Projet
Mgr --> RH

Terrain --> FSM
Terrain --> Stock

Clients --> CRM : Portail Client

' Flux Internes Odoo
CRM -> Projet : Gagné -> Nouveau Projet
Projet -> FSM : Tâche -> Intervention
FSM -> Stock : Consommation Matériel
Stock -> Compta : Facture Fournisseur
Projet -> Compta : Facturation Client

' Flux RH
RH -> PayFit : Variables Paie (Absences, Heures)
PayFit -> Compta : Écritures Paie (OD)

' Flux Externes
Stock <--> APIs : Prix & Dispo
APIs --> Stock : Commandes EDI

note right of CRM
  **ODOO CRM & VENTES**
  • Fin des Post-it
  • Devis en 30min (Templates)
  • Signature électronique
end note

note right of FSM
  **ODOO FIELD SERVICE**
  • App Mobile Native (Offline)
  • Rapports d'intervention
  • Signature client sur écran
end note

note right of PayFit
  **PAYFIT (BEST-OF-BREED)**
  • Expert Paie Française
  • DSN Automatisée
  • Bulletins simples
end note

legend bottom
  **ARCHITECTURE UNIFIÉE (FULL ODOO)**

  ✅ **Simplicité** : Une seule interface pour 90% des besoins.
  ✅ **Cohérence** : Donnée unique (Client, Article, Projet).
  ✅ **Mobilité** : App Odoo native pour le terrain.
  ✅ **Paie** : Délégée à un expert (PayFit) pour la conformité.
end legend

@enduml
