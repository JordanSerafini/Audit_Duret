@startuml
!theme plain
autonumber
skinparam backgroundColor #F8F8FF

header Architecture CIBLE - PROCESSUS OPTIMISÃ‰
title SÃ©quence : Commande MatÃ©riel (Version DIGITALISÃ‰E)

box "Terrain Mobile" #E6FFE6
    actor "Marc\n(Chef Chantier)" as Marc
    participant "App Mobile\nOdoo" as AppMobile
end box

box "SystÃ¨me Central" #E6F3FF  
    database "ERP Odoo\nModerne" as Odoo
    participant "API Gateway" as API
    component "ML Engine\n(Suggestions)" as ML
end box

box "Achats & Logistique" #FFF0E6
    actor "Sylvie\n(Achats)" as Sylvie
    participant "E-Procurement\nPortal" as Portal
    actor "Ã‰ric\n(DÃ©pÃ´t)" as Eric
    component "RFID Scanner" as RFID
end box

box "Fournisseurs ConnectÃ©s" #F0F0F0
    participant "Rexel API" as RexelAPI
    participant "Sonepar API" as SoneAPI
end box

== âš¡ Commande InstantanÃ©e (2h vs 3 jours) ==

Marc -> AppMobile : ğŸ“± Scan QR produit nÃ©cessaire
note right #E6FFE6 : ğŸŸ¢ 10 secondes vs 5 min papier
activate AppMobile

AppMobile -> Odoo : ğŸ” Recherche produit "3G2.5"
activate Odoo
Odoo -> ML : ğŸ¤– Suggestions intelligentes
ML --> Odoo : Top 3 produits pertinents
Odoo --> AppMobile : ğŸ“‹ Liste claire + photos + prix
deactivate Odoo
note right of ML #E6FFE6 : ğŸŸ¢ IA Ã©limine confusion\n1 choix vs 12 rÃ©fÃ©rences

AppMobile -> Marc : ğŸ’¡ Affiche suggestions
Marc -> AppMobile : âœ… SÃ©lectionne (1 clic)
AppMobile -> Odoo : ğŸ›’ CrÃ©e commande auto
note right #E6FFE6 : ğŸŸ¢ Validation instantanÃ©e

== ğŸ¤– Traitement AutomatisÃ© ==

Odoo -> API : ğŸ”„ DÃ©clenche workflow
activate API
API -> RexelAPI : ğŸ“¡ VÃ©rifie stock temps rÃ©el
RexelAPI --> API : âœ… "50 unitÃ©s dispo"
API -> SoneAPI : ğŸ“¡ Compare prix concurrent  
SoneAPI --> API : ğŸ’° "Prix identique"

API -> RexelAPI : ğŸš€ Commande automatique
RexelAPI --> API : ğŸ“‹ "Commande #R12345 validÃ©e"
note right of API #E6FFE6 : ğŸŸ¢ 0 ressaisie vs 7 actuellement

API -> Odoo : âœ… Commande confirmÃ©e
API -> Sylvie : ğŸ“¨ Notification "Commande auto crÃ©Ã©e"
deactivate API

== ğŸ“¦ RÃ©ception AutomatisÃ©e ==

RexelAPI -> Eric : ğŸšš Livraison avec QR code
Eric -> RFID : ğŸ“± Scan code livraison
activate RFID
RFID -> Odoo : ğŸ”„ Identification automatique  
Odoo --> RFID : âœ… "Commande R12345 attendue"
RFID -> Odoo : âœ… RÃ©ception validÃ©e (2 sec)
deactivate RFID
note right of RFID #E6FFE6 : ğŸŸ¢ 2 sec vs 20 min saisie

Odoo -> AppMobile : ğŸ“² "MatÃ©riel dispo"
Odoo -> Marc : ğŸ“± Push notification

== âœ… RÃ©cupÃ©ration Garantie ==

Marc -> Eric : ğŸ¯ RÃ©cupÃ¨re matÃ©riel
Eric -> Marc : ğŸ“¦ MatÃ©riel correct garanti
note over Marc #90EE90 : âœ… BON MATÃ‰RIEL !\nğŸŸ¢ Chantier continue\nğŸ’° Ã‰conomie: 2,400â‚¬

== ğŸ“Š COMPARAISON AVANT/APRÃˆS ==

note over Marc, SoneAPI #E6FFE6
    **GAINS MESURABLES**
    â° DurÃ©e: 2h vs 3 jours (-94%)
    ğŸ“ Appels: 0 vs 15 (-100%)
    â™»ï¸ Ressaisies: 0 vs 7 (-100%)
    âŒ Taux erreur: 2% vs 50% (-96%)
    ğŸ’° Ã‰conomie: 58Kâ‚¬/an
    ğŸ˜Š Satisfaction: 9/10 vs 4/10
end note

@enduml