@startuml Class_Diagram_Modele

title Class Diagram - ModÃ¨le Objet Achats-Logistique

' Acteurs
class ChefChantier {
  +id: string
  +nom: string
  +prenom: string
  +chantier: Chantier
  +telephone: string
  --
  +commanderMateriel()
  +consulterStock()
  +relancerCommande()
}

class GestionnaireAchats {
  +id: string
  +nom: string
  +prenom: string
  --
  +traiterCommande()
  +rechercherProduit()
  +contacterFournisseur()
  +saisirDonnees()
  +validerCommande()
}

class Magasinier {
  +id: string
  +nom: string
  +prenom: string
  --
  +receptionnerLivraison()
  +verifierQuantite()
  +rangerMateriel()
  +mettreAJourStock()
}

class ResponsableAffaires {
  +id: string
  +nom: string
  +prenom: string
  --
  +suivreCoÃ»ts()
  +analyserBudget()
  +validerCommandes()
}

' EntitÃ©s mÃ©tier
class Commande {
  +numero: string
  +dateCreation: Date
  +dateLivraison: Date
  +statut: StatutCommande
  +montantTotal: float
  +urgent: boolean
  --
  +valider()
  +annuler()
  +calculerTotal()
}

enum StatutCommande {
  EN_ATTENTE
  PASSEE
  EN_COURS_LIVRAISON
  LIVREE
  ANNULEE
  ERREUR
}

class LigneCommande {
  +id: string
  +quantite: int
  +prixUnitaire: float
  +montant: float
  --
  +calculerMontant()
}

class Produit {
  +reference: string
  +designation: string
  +categorie: string
  +unitÃ©: string
  +prixMoyen: float
  +stockActuel: int
  +seuilAlerte: int
  --
  +obtenirStock()
  +mettreAJourPrix()
}

note right of Produit
  ğŸ”´ **PROBLÃˆME ACTUEL**
  12 rÃ©fÃ©rences diffÃ©rentes
  pour le MÃŠME produit physique:
  - CABLE-3G2.5-ROUGE-50M
  - CBL_3G25_R_50
  - 3G2.5-CABLE-ROUGE
  - CABLE_3G_2.5_ROUGE
  - ...

  âš ï¸ Confusion totale
  âŒ 50% d'erreurs
end note

class Fournisseur {
  +id: string
  +nom: string
  +contact: string
  +telephone: string
  +email: string
  +delaiMoyen: int
  +tauxFiabilite: float
  --
  +passerCommande()
  +obtenirTarif()
  +suivreLivraison()
}

note bottom of Fournisseur
  ğŸ”´ Doublons dans Excel
  ğŸ”´ Contacts obsolÃ¨tes
  ğŸ”´ Pas de commande en ligne
end note

class Chantier {
  +numero: string
  +nom: string
  +adresse: string
  +dateDebut: Date
  +dateFin: Date
  +budgetMatÃ©riel: float
  --
  +calculerCouts()
  +suivreConsommation()
}

class Affaire {
  +numero: string
  +nom: string
  +client: string
  +budgetTotal: float
  +budgetAchats: float
  +depenseReelle: float
  --
  +calculerEcart()
  +analyserPerformance()
}

note bottom of Affaire
  ğŸ”´ Impossible de suivre
  les coÃ»ts en temps rÃ©el
  â° 3h pour sortir un chiffre
  Â±20% d'erreur
end note

class Stock {
  +emplacement: string
  +quantite: int
  +dateInventaire: Date
  +obsolete: boolean
  --
  +verifier()
  +ajuster()
}

note right of Stock
  ğŸ”´ DonnÃ©es non fiables (40%)
  ğŸ”´ Pas de traÃ§abilitÃ©
  ğŸ”´ Rangement chaotique
end note

class Reception {
  +id: string
  +dateReception: Date
  +quantiteRecue: int
  +quantiteCommandee: int
  +ecart: int
  +commentaire: string
  --
  +valider()
  +signalerEcart()
}

' Relations
ChefChantier "1" -- "*" Commande : crÃ©e >
ChefChantier "1" -- "1" Chantier : travaille sur >

GestionnaireAchats "1" -- "*" Commande : traite >
GestionnaireAchats "1" -- "*" Fournisseur : contacte >

Magasinier "1" -- "*" Reception : effectue >
Magasinier "1" -- "*" Stock : gÃ¨re >

ResponsableAffaires "1" -- "*" Affaire : pilote >
ResponsableAffaires "1" -- "*" Commande : supervise >

Commande "1" *-- "*" LigneCommande : contient
Commande "*" -- "1" Fournisseur : passÃ©e Ã  >
Commande "1" -- "1" StatutCommande
Commande "*" -- "0..1" Chantier : pour >
Commande "*" -- "0..1" Affaire : liÃ©e Ã  >
Commande "1" -- "0..1" Reception : reÃ§ue via >

LigneCommande "*" -- "1" Produit : rÃ©fÃ©rence >

Produit "1" -- "*" Stock : stockÃ© dans >

Reception "*" -- "1" Commande : correspond Ã  >

note top
  **PROBLÃˆMES MODÃˆLE ACTUEL**

  ğŸ”´ **DonnÃ©es**
  - Produit: 12 rÃ©fÃ©rences pour 1 produit physique
  - Fournisseur: Doublons et donnÃ©es obsolÃ¨tes
  - Stock: Non fiable (40% de confiance)

  ğŸ”´ **Processus**
  - Re-saisie 6-7 fois des mÃªmes donnÃ©es
  - Pas de traÃ§abilitÃ©
  - Pas de notifications automatiques

  ğŸ”´ **IntÃ©gration**
  - Aucune API
  - DonnÃ©es Ã©parpillÃ©es (Sage + 4 Excel)
  - Communication tÃ©lÃ©phone uniquement

  ğŸ’° **Impact**: 910Kâ‚¬/an de pertes
end note

@enduml
